# 管理后台使用指南

## 📋 概述

Rookie 项目使用 SimpleUI 美化的 Django Admin 作为管理后台，提供现代化的用户界面和完整的管理功能。

## 🚀 访问后台

### 登录方式
```bash
# 访问地址
http://127.0.0.1:8000/admin/

# 默认管理员账号
邮箱: admin@example.com
密码: password123
```

### 界面特点
- 🎨 **现代化设计**: 基于 Ant Design 风格
- 📱 **响应式布局**: 适配桌面和移动设备
- 🌓 **主题切换**: 支持明暗主题
- 📊 **数据可视化**: 图表和统计信息

## 👥 用户管理

### 用户列表
**路径**: `用户管理 > 用户`

#### 功能特性
- 查看所有用户信息
- 搜索和筛选用户
- 批量操作用户
- 导出用户数据

#### 用户字段说明
- **邮箱**: 用户登录邮箱（唯一）
- **用户名**: 显示名称
- **手机号**: 联系电话
- **部门**: 所属部门
- **职位**: 工作职位
- **员工编号**: 企业内部编号
- **认证来源**: 注册来源（本地/钉钉/企微等）
- **状态**: 激活/禁用状态

#### 操作指南
```bash
# 1. 添加用户
点击 "增加用户" → 填写用户信息 → 保存

# 2. 编辑用户
点击用户邮箱 → 修改信息 → 保存

# 3. 批量操作
选择多个用户 → 选择操作 → 执行
```

### 用户资料
**路径**: `用户管理 > 用户资料`

#### 扩展信息管理
- 个人简介
- 头像设置
- 社交链接
- 个人偏好设置

## 🔑 权限管理

### 系统模块
**路径**: `用户管理 > 系统模块`

#### 模块配置
```bash
# 添加新模块
名称: product_management
显示名称: 产品管理
描述: 产品信息管理功能
图标: fas fa-box
URL模式: /admin/products/
```

#### 内置模块
- **用户管理**: 用户和权限管理
- **系统配置**: 系统参数设置
- **数据分析**: 统计和分析功能
- **文件管理**: 文件上传和管理
- **消息通知**: 系统通知功能

### 用户组管理
**路径**: `权限管理 > 用户组`

#### 预设用户组
- **管理员**: 用户管理 + 系统配置权限
- **数据分析师**: 数据分析 + 文件管理权限
- **普通员工**: 消息通知 + 文件查看权限

#### 权限分配
```bash
# 1. 创建用户组
点击 "增加用户组" → 输入组名

# 2. 分配权限
选择权限 → 保存

# 3. 添加用户到组
编辑用户 → 选择用户组 → 保存
```

### 权限类型说明
- **查看 (view)**: 可以查看数据
- **新增 (add)**: 可以创建新数据
- **修改 (change)**: 可以编辑现有数据
- **删除 (delete)**: 可以删除数据

## 🌐 第三方登录配置

### 配置管理
**路径**: `系统配置 > 第三方认证配置`

#### 添加登录方式
```bash
# 1. 点击 "增加第三方认证配置"
# 2. 填写配置信息
名称: dingtalk
显示名称: 钉钉登录
配置: {"app_id": "xxx", "app_secret": "xxx"}
启用: 勾选

# 3. 保存配置
```

#### 支持的平台
- **钉钉**: 企业内部登录
- **企业微信**: 企业成员登录
- **飞书**: 团队协作登录
- **GitHub**: 开发者登录

### 用户同步
```bash
# 同步第三方用户
POST /api/users/sync_users/
{
  "provider": "dingtalk"
}
```

## 📊 数据管理

### 数据导入导出

#### 用户数据导出
```bash
# 1. 进入用户列表
# 2. 选择要导出的用户
# 3. 选择 "导出选中的用户"
# 4. 选择导出格式 (CSV/Excel)
```

#### 批量导入用户
```bash
# 1. 准备CSV文件
# 格式: email,username,department,job_title
# 2. 使用管理命令导入
python manage.py import_users users.csv
```

### 数据备份
```bash
# 备份数据库
python manage.py dumpdata > backup.json

# 恢复数据库
python manage.py loaddata backup.json
```

## 🔧 系统设置

### 站点配置
**路径**: `站点管理 > 站点`

#### 基本设置
- 站点名称
- 站点域名
- 显示名称

### 日志查看
```bash
# 查看系统日志
tail -f logs/dev.log

# 查看错误日志
tail -f logs/error.log
```

### 缓存管理
```bash
# 清除缓存
python manage.py clear_cache

# 查看缓存状态
python manage.py cache_info
```

## 🎨 界面定制

### 主题设置
- **默认主题**: Ant Design 风格
- **颜色方案**: 蓝色主色调
- **Logo设置**: 支持自定义Logo

### 菜单配置
```python
# 在settings中配置菜单
SIMPLEUI_CONFIG = {
    'menus': [
        {
            'name': '用户管理',
            'icon': 'fas fa-users',
            'models': [...]
        }
    ]
}
```

## 📱 移动端使用

### 响应式设计
- 自动适配手机和平板
- 触摸友好的界面
- 简化的操作流程

### 移动端功能
- 用户信息查看
- 基本的增删改查
- 权限管理
- 数据统计查看

## 🔍 搜索和筛选

### 用户搜索
```bash
# 支持的搜索字段
- 邮箱
- 用户名
- 手机号
- 部门
- 职位
```

### 高级筛选
- 按注册时间筛选
- 按用户状态筛选
- 按用户组筛选
- 按认证来源筛选

## 📈 统计和报表

### 用户统计
- 总用户数
- 活跃用户数
- 新注册用户趋势
- 登录方式分布

### 权限统计
- 用户组分布
- 权限使用情况
- 模块访问统计

## ❗ 常见问题

### Q: 无法访问管理后台
**A**: 检查用户权限和登录状态
```bash
# 确保用户是超级用户或有管理权限
# 检查登录状态
# 确认URL正确
```

### Q: 权限配置不生效
**A**: 检查权限分配和缓存
```bash
# 确认用户组权限正确
# 清除权限缓存
# 重新登录用户
```

### Q: 第三方登录配置失败
**A**: 检查配置参数
```bash
# 验证app_id和secret
# 确认回调地址正确
# 检查第三方应用状态
```

## 🔗 相关文档

- [权限管理](permissions.md) - 详细权限配置
- [认证系统](authentication.md) - 登录和认证
- [API使用](api-usage.md) - API接口调用